---
layout: post
title: Writing and committing first Pharo (smalltalk) code and shipping for others to use
categories: [dev environment, installation]
tags: [Pharo, Smalltalk, Github, Tests, TDD, Shipping code]
---

<p>The instructions below are part of a course called "<a href="https://online-training.jbrains.ca/p/wbitdd-01" target="_blank">The World's Best Intro to TDD</a>" by J.B. Rainsberger, which for me is definitely living up to it's name. The first few sections of the course are free. It's a time investment that'll keep paying off if you choose to work through them.</p>

<blockquote>Before reading any further, set up your working environment. Set up a new, empty project, write a single failing test, run the test and watch the test fail with at most a single keypress,
 commit the failing test to version control, and publish your single failing test offsite.</blockquote>

<p>The genius behind this approach for me is that you are still writing a 'simple' Hello World program, but with all of the things that are essential for bigger projects right from the start.</p>

<p>I'm learning a new language called Pharo, which is a pure Object-Oriented language based on Smalltalk. This entry documents my process of setting up my dev environment in Pharo, but the high-level steps are transferable to other languages.</p>

<p>The tools you need to set up your dev environment according to the course are listed below. I have included the tools I chose in parentheses).</p>

<ul>
  <li>A version control system with an off-site backup (Github)</li>
  <li>A testing frameword or library for your programming language (SUnit for Pharo)</li>
  <li>A text editor or IDE that you want to master (Pharo has it's own IDE, my usual choice is Vim - still learning that one).</li>
  <li>A mechanism for runnig tests wih (at most) a single keypress whilst still in your editor (Iceberg which is built into Pharo)</li>
  <li>Pen, paper, index cards (this is more for the TDD part of the course, but also useful for quickly documenting your installation steps for future reference.</li>
</ul>

<h2>Create a bare repo to push to on GitHub:</h2>

<ol>
  <li>Go onto your GitHub account and click on the '+' button on the top, right-hand side of your screen next to your profile photo.</li>
  <img src="/assets/img/click-new-repo-github.png" class="small-img" alt="where to start a new repo on GitHub">
  <li>In the drop-down menu that appears, click the 'New repository' button.</li>
  <li>Enter the name of your repository (project), which is the only required field. In this case, I named my repo 'pharo-projects'.</li>
  <li>Select whether you want your repo to be public (available to anyone) or private (only you can access it).</li>
  <li>Finish creating your repository by clicking on the green 'Create repository' button. We are not going to initialize the project with a README file or add a description at this point.</li>
</ol>
  <img src="/assets/img/create-new-repo-github.png" class="medium-img" alt="creating new repo on GitHub">

<h2>Create an empty Project in Pharo</h2>

<ol>
  <li>Open the 'Pharo Launcher' application and double click on the 'Pharo 6.0 (stable) &gt;&gt; latest-64' image template to create a new image for your project. I'm using a 64-bit Mac computer, which is why I chose this image template. An image is a snapshot of the current state of your program, including all of the packages, classes, methods and logic that have been added to it. When you open an image that you previously saved, it will look the same as when it did just before you closed it.</li>
  <li>When prompted to name your image, I called mine "Unicorn rover". After naming your image, you will be able to double click on it. This will open the 'World' for your project where you can start building your project.</li>
</ol>

<h2>Set up version control for your Pharo project.</h2>

  <ol>
    <li>Clicking anywhere on your 'World' screen will bring up the 'World Menu'. Click on the 'Tools' option in the World Menu and then on 'Iceberg', which is one of two built-in version control managers for Pharo. I find this one more intuitive to use than 'Monticello', but have not used either enough to make a fair comparison at this stage.</li>
    <img src="/assets/img/open-iceberg-pharo.png" class="medium-img" alt="opening iceberg version control manager in Pharo">
    <li>Once you have clicked on 'Iceberg', a window will pop up showing you the repositories that are linked to your project. At the moment, there are no repositories linked. To add a repository, click on the green '+' button on the right-hand side of the menu bar. Then click on the 'Clone from github.com' option (there are options for adding repos from other version control managers like Gitlab and Gitbucket too).</li>
    <li>Fill in your username and project name exactly as they appear of GitHub. Then select 'HTTP' or 'SSH' from the dropdown near the bottom of the form depending on which clone method you are using. I'm using 'HTTP'.</li>
    <img src="/assets/img/location-of-repo-for-iceberg.png" class="medium-img" alt="specifying location of repo for iceberg in Pharo">
    <li>Clicking on 'Ok' will clone your repository into Pharo. If successful, you should see your project name listed in the repositories list. The name of your repository will be green with a little asterisk next to it. The asterisk indicates that there are uncommitted changes to your repository. At the moment, we have nothing to commit, so next to the repository, there will also be red text that says 'No project found'. We are now ready to create our first package.</li>
  </ol>



<p>Writing in progress...</p>
